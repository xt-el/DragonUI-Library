--[[ =====================================================
     ‚ö° Custom Library - Enhanced Version com Layouts Configur√°veis e Multi-Dropdown
     Cr√©ditos: xtel
     Atualiza√ß√µes:
       1. TabStyle (Vertical/Horizontal/None) configur√°vel.
       2. Primeira aba √© ativada automaticamente.
       3. Novo componente: Multi-Dropdown.
===================================================== ]]--
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local TextService = game:GetService("TextService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local Mouse = player:GetMouse()
local ScreenSize = workspace.CurrentCamera.ViewportSize

local Library = {}
Library.Windows = {}

local function GetTheme()
    return {
        Primary = Color3.fromRGB(0, 132, 255),
        Text = Color3.fromRGB(255, 255, 255),
        Background = Color3.fromRGB(27, 27, 33),
        Secondary = Color3.fromRGB(35, 35, 42),
        Hover = Color3.fromRGB(48, 48, 56),
    }
end

local function CreateTween(obj, goal, time)
    TweenService:Create(obj, TweenInfo.new(time or 0.3, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), goal):Play()
end

local function MakeResizable(frame, minSize, maxSize)
    local resizing = false
    local resizeButton = Instance.new("TextButton")
    resizeButton.Name = "ResizeHandle"
    resizeButton.Parent = frame
    resizeButton.BackgroundColor3 = GetTheme().Primary
    resizeButton.BackgroundTransparency = 0.5
    resizeButton.BorderSizePixel = 0
    resizeButton.Position = UDim2.new(1, -20, 1, -20)
    resizeButton.Size = UDim2.new(0, 20, 0, 20)
    resizeButton.Text = "‚Üò"
    resizeButton.TextColor3 = GetTheme().Text
    resizeButton.TextSize = 18
    resizeButton.Font = Enum.Font.GothamBold
    resizeButton.ZIndex = 1000

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 4)
    corner.Parent = resizeButton

    resizeButton.MouseEnter:Connect(function()
        CreateTween(resizeButton, {BackgroundTransparency = 0.2}, 0.2)
    end)

    resizeButton.MouseLeave:Connect(function()
        if not resizing then
            CreateTween(resizeButton, {BackgroundTransparency = 0.5}, 0.2)
        end
    end)

    resizeButton.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            resizing = true
            local initialSize = frame.Size
            local initialMouse = Vector2.new(Mouse.X, Mouse.Y)

            local connection
            connection = RunService.Heartbeat:Connect(function()
                if resizing then
                    local delta = Vector2.new(Mouse.X, Mouse.Y) - initialMouse
                    local newSizeX = math.clamp(
                        initialSize.X.Offset + delta.X,
                        minSize.X or (ScreenSize.X < 600 and 150 or 300),
                        maxSize.X or (ScreenSize.X < 600 and ScreenSize.X - 20 or 800)
                    )
                    local newSizeY = math.clamp(
                        initialSize.Y.Offset + delta.Y,
                        minSize.Y or (ScreenSize.Y < 800 and 100 or 150),
                        maxSize.Y or (ScreenSize.Y < 800 and ScreenSize.Y - 20 or 600)
                    )

                    frame.Size = UDim2.new(0, newSizeX, 0, newSizeY)
                else
                    connection:Disconnect()
                end
            end)

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    resizing = false
                    CreateTween(resizeButton, {BackgroundTransparency = 0.5}, 0.2)
                end
            end)
        end
    end)
end

-- üîî Sistema de Notifica√ß√µes
local NotificationSystem = {}
do
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "NotificationSystem"
    ScreenGui.Parent = CoreGui
    ScreenGui.ResetOnSpawn = false
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    local Notifications = {}
    local Theme = {
        Background = Color3.fromRGB(35, 35, 35),
        Text = Color3.fromRGB(255, 255, 255),
        SubText = Color3.fromRGB(200, 200, 200),
        Accent = Color3.fromRGB(0, 132, 255)
    }
    local function Tween(obj, goal, time)
        TweenService:Create(obj, TweenInfo.new(time or 0.3, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), goal):Play()
    end
    function NotificationSystem:Notify(title, message, duration)
        title = title or "Notification"
        message = message or "No message provided"
        duration = duration or 3
        local notif = Instance.new("Frame")
        notif.Parent = ScreenGui
        notif.BackgroundColor3 = Theme.Background
        notif.BorderSizePixel = 0
        notif.Size = UDim2.new(0, 280, 0, 0)
        notif.Position = UDim2.new(1, 10, 0, 10)
        notif.ClipsDescendants = true
        notif.ZIndex = 9999
        local titleLbl = Instance.new("TextLabel")
        titleLbl.Parent = notif
        titleLbl.BackgroundTransparency = 1
        titleLbl.Font = Enum.Font.GothamBold
        titleLbl.TextColor3 = Theme.Text
        titleLbl.TextSize = 15
        titleLbl.TextXAlignment = Enum.TextXAlignment.Left
        titleLbl.Position = UDim2.new(0, 10, 0, 6)
        titleLbl.Size = UDim2.new(1, -20, 0, 20)
        titleLbl.Text = title
        local msgLbl = Instance.new("TextLabel")
        msgLbl.Parent = notif
        msgLbl.BackgroundTransparency = 1
        msgLbl.Font = Enum.Font.Gotham
        msgLbl.TextColor3 = Theme.SubText
        msgLbl.TextSize = 13
        msgLbl.TextXAlignment = Enum.TextXAlignment.Left
        msgLbl.TextYAlignment = Enum.TextYAlignment.Top
        msgLbl.Position = UDim2.new(0, 10, 0, 26)
        msgLbl.Size = UDim2.new(1, -20, 0, 0)
        msgLbl.TextWrapped = true
        msgLbl.Text = message
        local textSize = TextService:GetTextSize(message, 13, Enum.Font.Gotham, Vector2.new(260, math.huge))
        local height = textSize.Y + 40
        notif.Size = UDim2.new(0, 280, 0, height)
        local yOffset = 10
        for _, n in ipairs(Notifications) do
            yOffset += n.Size.Y.Offset + 10
        end
        table.insert(Notifications, notif)
        Tween(notif, {Position = UDim2.new(1, -290, 0, yOffset)}, 0.4)
        task.spawn(function()
            task.wait(duration)
            Tween(notif, {Position = UDim2.new(1, 10, 0, notif.Position.Y.Offset)}, 0.3)
            task.wait(0.3)
            notif:Destroy()
            table.remove(Notifications, table.find(Notifications, notif))
            local offset = 10
            for _, n in ipairs(Notifications) do
                Tween(n, {Position = UDim2.new(1, -290, 0, offset)}, 0.25)
                offset += n.Size.Y.Offset + 10
            end
        end)
    end
end
-- üß© Library (Enhanced)
function Library:CreateWindow(title, config)
    local cfg = config or {}
    local tabStyle = cfg.TabStyle or "Vertical" -- Default: Vertical. Options: "Vertical", "Horizontal", "None"

    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "CustomUILibrary_" .. #Library.Windows + 1
    ScreenGui.ResetOnSpawn = false
    ScreenGui.IgnoreGuiInset = true
    ScreenGui.Parent = CoreGui
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 450, 0, 300)
    MainFrame.Position = UDim2.new(0.05 + 0.02 * #Library.Windows, 0, 0.25 + 0.02 * #Library.Windows, 0)
    MainFrame.BackgroundColor3 = GetTheme().Background
    MainFrame.BorderSizePixel = 0
    MainFrame.Active = true
    MainFrame.Parent = ScreenGui
    local Shadow = Instance.new("ImageLabel")
    Shadow.Image = "rbxassetid://1316045217"
    Shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    Shadow.ImageTransparency = 0.8
    Shadow.ScaleType = Enum.ScaleType.Slice
    Shadow.SliceCenter = Rect.new(10, 10, 118, 118)
    Shadow.Size = UDim2.new(1, 10, 1, 10)
    Shadow.Position = UDim2.new(0, -5, 0, -5)
    Shadow.BackgroundTransparency = 1
    Shadow.Parent = MainFrame
    local Header = Instance.new("Frame")
    Header.Size = UDim2.new(1, 0, 0, 30)
    Header.BackgroundColor3 = GetTheme().Primary
    Header.BorderSizePixel = 0
    Header.Parent = MainFrame
    local Title = Instance.new("TextLabel")
    Title.Text = " " .. title
    Title.Font = Enum.Font.GothamBold
    Title.TextColor3 = GetTheme().Text
    Title.TextSize = 15
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.TextTruncate = Enum.TextTruncate.AtEnd
    Title.BackgroundTransparency = 1
    Title.Size = UDim2.new(1, -30, 1, 0)
    Title.Parent = Header

    -- Configura√ß√£o do layout de abas/conte√∫do
    local TAB_BAR_WIDTH = 120
    local TAB_BAR_HEIGHT = 30

    local TabContainer = Instance.new("Frame")
    TabContainer.Name = "TabContainer"
    TabContainer.Size = UDim2.new(1, 0, 1, -30)
    TabContainer.Position = UDim2.new(0, 0, 0, 30)
    TabContainer.BackgroundTransparency = 1
    TabContainer.Parent = MainFrame

    local TabBar = Instance.new("Frame")
    TabBar.Name = "TabBar"
    TabBar.BackgroundColor3 = Color3.fromRGB(35, 35, 42)
    TabBar.BorderSizePixel = 0
    TabBar.Parent = TabContainer

    local ContentContainer = Instance.new("Frame")
    ContentContainer.Name = "ContentContainer"
    ContentContainer.BackgroundTransparency = 1
    ContentContainer.Parent = TabContainer

    if tabStyle == "Vertical" then
        TabBar.Size = UDim2.new(0, TAB_BAR_WIDTH, 1, -20)
        TabBar.Position = UDim2.new(0, 0, 0, 0)
        ContentContainer.Size = UDim2.new(1, -TAB_BAR_WIDTH, 1, 0)
        ContentContainer.Position = UDim2.new(0, TAB_BAR_WIDTH, 0, 0)
        
        local TabList = Instance.new("UIListLayout")
        TabList.Padding = UDim.new(0, 2)
        TabList.HorizontalAlignment = Enum.HorizontalAlignment.Center
        TabList.SortOrder = Enum.SortOrder.LayoutOrder
        TabList.Parent = TabBar
        local TabPadding = Instance.new("UIPadding")
        TabPadding.PaddingTop = UDim.new(0, 5)
        TabPadding.PaddingBottom = UDim.new(0, 5)
        TabPadding.Parent = TabBar
    elseif tabStyle == "Horizontal" then
        TabBar.Size = UDim2.new(1, -10, 0, TAB_BAR_HEIGHT)
        TabBar.Position = UDim2.new(0, 5, 0, 0)
        ContentContainer.Size = UDim2.new(1, 0, 1, -TAB_BAR_HEIGHT - 10)
        ContentContainer.Position = UDim2.new(0, 0, 0, TAB_BAR_HEIGHT + 5)
        
        local TabList = Instance.new("UIListLayout")
        TabList.FillDirection = Enum.FillDirection.Horizontal
        TabList.Padding = UDim.new(0, 5)
        TabList.HorizontalAlignment = Enum.HorizontalAlignment.Left
        TabList.SortOrder = Enum.SortOrder.LayoutOrder
        TabList.Parent = TabBar
        
        local Corner = Instance.new("UICorner")
        Corner.CornerRadius = UDim.new(0, 6)
        Corner.Parent = TabBar

    elseif tabStyle == "None" then
        TabBar.Visible = false
        ContentContainer.Size = UDim2.new(1, 0, 1, -5)
        ContentContainer.Position = UDim2.new(0, 0, 0, 0)
        
        MainFrame.Size = UDim2.new(0, 300, 0, 200) -- Tamanho menor para modo sem abas

    end
    
    local CurrentTab = nil
    local Tabs = {}

    -- Componentes (Fun√ß√µes dentro da Tab)
    local function CreateComponentFunctions(contentFrame)
        local tab = {}
        local Content = contentFrame

        -- MULTI-DROPDOWN (NOVO)
        function tab:CreateMultiDropdown(name, options, defaultSelections, callback)
            local DropFrame = Instance.new("Frame")
            DropFrame.Size = UDim2.new(1, -10, 0, 30)
            DropFrame.BackgroundColor3 = GetTheme().Secondary
            DropFrame.BorderSizePixel = 0
            DropFrame.ClipsDescendants = true
            DropFrame.Parent = Content
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 5)
            Corner.Parent = DropFrame
            
            local Label = Instance.new("TextButton")
            Label.Size = UDim2.new(1, 0, 0, 30)
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 14
            Label.TextColor3 = Color3.fromRGB(230, 230, 235)
            Label.TextTruncate = Enum.TextTruncate.AtEnd
            Label.BackgroundTransparency = 1
            Label.AutoButtonColor = false
            Label.Parent = DropFrame
            
            local Arrow = Instance.new("TextLabel")
            Arrow.Size = UDim2.new(0, 20, 1, 0)
            Arrow.Position = UDim2.new(1, -20, 0, 0)
            Arrow.Text = "‚ñº"
            Arrow.Font = Enum.Font.GothamBold
            Arrow.TextSize = 10
            Arrow.TextColor3 = Color3.fromRGB(150, 150, 155)
            Arrow.BackgroundTransparency = 1
            Arrow.Parent = DropFrame

            local OptionsList = Instance.new("Frame")
            OptionsList.Size = UDim2.new(1, 0, 0, 0)
            OptionsList.Position = UDim2.new(0, 0, 0, 30)
            OptionsList.BackgroundTransparency = 1
            OptionsList.Parent = DropFrame
            local OptionsLayout = Instance.new("UIListLayout")
            OptionsLayout.Parent = OptionsList
            
            local isOpen = false
            local selections = {}
            for _, v in ipairs(defaultSelections or {}) do
                selections[v] = true
            end

            local function updateLabel()
                local count = 0
                for _, selected in pairs(selections) do
                    if selected then count = count + 1 end
                end
                if count == 0 then
                    Label.Text = name .. ": Nada Selecionado"
                elseif count == 1 then
                    for key, selected in pairs(selections) do
                        if selected then Label.Text = name .. ": " .. key; break end
                    end
                else
                    Label.Text = name .. ": " .. count .. " Selecionados"
                end
            end
            updateLabel()

            for _, option in ipairs(options) do
                local Opt = Instance.new("TextButton")
                Opt.Size = UDim2.new(1, 0, 0, 25)
                Opt.Text = (selections[option] and "‚òë " or "‚òê ") .. option
                Opt.Font = Enum.Font.Gotham
                Opt.TextSize = 13
                Opt.TextColor3 = Color3.fromRGB(200, 200, 205)
                Opt.TextTruncate = Enum.TextTruncate.AtEnd
                Opt.BackgroundColor3 = Color3.fromRGB(30, 30, 36)
                Opt.BorderSizePixel = 0
                Opt.AutoButtonColor = false
                Opt.Parent = OptionsList
                
                local function toggleOption()
                    selections[option] = not selections[option]
                    Opt.Text = (selections[option] and "‚òë " or "‚òê ") .. option
                    updateLabel()
                    
                    local activeOptions = {}
                    for opt, selected in pairs(selections) do
                        if selected then table.insert(activeOptions, opt) end
                    end
                    callback(activeOptions)
                end

                Opt.MouseEnter:Connect(function()
                    Opt.BackgroundColor3 = Color3.fromRGB(40, 40, 46)
                end)
                Opt.MouseLeave:Connect(function()
                    Opt.BackgroundColor3 = Color3.fromRGB(30, 30, 36)
                end)
                Opt.MouseButton1Click:Connect(toggleOption)
            end

            Label.MouseButton1Click:Connect(function()
                isOpen = not isOpen
                if isOpen then
                    CreateTween(DropFrame, {Size = UDim2.new(1, -10, 0, 30 + (#options * 25))}, 0.2)
                    Arrow.Text = "‚ñ≤"
                else
                    CreateTween(DropFrame, {Size = UDim2.new(1, -10, 0, 30)}, 0.2)
                    Arrow.Text = "‚ñº"
                end
            end)
        end
        
        -- Fun√ß√µes de Componente (existentes, omitidas para concis√£o do c√≥digo)
        -- ... (CreateButton, CreateToggle, CreateSlider, CreateDropdown, etc.)

        function tab:CreateButton(name, callback)
            local Button = Instance.new("TextButton")
            Button.Size = UDim2.new(1, -10, 0, 30)
            Button.BackgroundColor3 = GetTheme().Secondary
            Button.TextColor3 = Color3.fromRGB(230, 230, 235)
            Button.Font = Enum.Font.Gotham
            Button.TextSize = 14
            Button.Text = name
            Button.TextTruncate = Enum.TextTruncate.AtEnd
            Button.AutoButtonColor = false
            Button.Parent = Content
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 5)
            Corner.Parent = Button
            Button.MouseEnter:Connect(function()
                CreateTween(Button, {BackgroundColor3 = GetTheme().Hover}, 0.15)
            end)
            Button.MouseLeave:Connect(function()
                CreateTween(Button, {BackgroundColor3 = GetTheme().Secondary}, 0.15)
            end)
            Button.MouseButton1Click:Connect(function()
                if callback then callback() end
            end)
        end

        function tab:CreateToggle(name, default, callback)
            local ToggleFrame = Instance.new("Frame")
            ToggleFrame.Size = UDim2.new(1, -10, 0, 26)
            ToggleFrame.BackgroundTransparency = 1
            ToggleFrame.Parent = Content
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(1, -40, 1, 0)
            Label.Text = name
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 14
            Label.TextColor3 = Color3.fromRGB(230, 230, 235)
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.TextTruncate = Enum.TextTruncate.AtEnd
            Label.BackgroundTransparency = 1
            Label.Parent = ToggleFrame
            local Box = Instance.new("TextButton")
            Box.Size = UDim2.new(0, 22, 0, 22)
            Box.Position = UDim2.new(1, -28, 0.5, -11)
            Box.BackgroundColor3 = default and GetTheme().Primary or Color3.fromRGB(45, 45, 50)
            Box.Text = ""
            Box.AutoButtonColor = false
            Box.Parent = ToggleFrame
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 4)
            Corner.Parent = Box
            local active = default or false
            Box.MouseButton1Click:Connect(function()
                active = not active
                CreateTween(Box, {BackgroundColor3 = active and GetTheme().Primary or Color3.fromRGB(45, 45, 50)}, 0.15)
                callback(active)
            end)

            return {
                SetValue = function(value)
                    active = value
                    CreateTween(Box, {BackgroundColor3 = active and GetTheme().Primary or Color3.fromRGB(45, 45, 50)}, 0.15)
                end
            }
        end

        function tab:CreateSlider(name, min, max, default, callback)
            local SliderFrame = Instance.new("Frame")
            SliderFrame.Size = UDim2.new(1, -10, 0, 45)
            SliderFrame.BackgroundTransparency = 1
            SliderFrame.Parent = Content
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(1, 0, 0, 18)
            Label.Text = name
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 14
            Label.TextColor3 = Color3.fromRGB(230, 230, 235)
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.TextTruncate = Enum.TextTruncate.AtEnd
            Label.BackgroundTransparency = 1
            Label.Parent = SliderFrame
            local Value = Instance.new("TextLabel")
            Value.Size = UDim2.new(0, 50, 0, 18)
            Value.Position = UDim2.new(1, -50, 0, 0)
            Value.Text = tostring(default)
            Value.Font = Enum.Font.GothamBold
            Value.TextSize = 13
            Value.TextColor3 = GetTheme().Primary
            Value.TextXAlignment = Enum.TextXAlignment.Right
            Value.BackgroundTransparency = 1
            Value.Parent = SliderFrame
            local Track = Instance.new("Frame")
            Track.Size = UDim2.new(1, 0, 0, 4)
            Track.Position = UDim2.new(0, 0, 1, -12)
            Track.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
            Track.BorderSizePixel = 0
            Track.Parent = SliderFrame
            local TrackCorner = Instance.new("UICorner")
            TrackCorner.CornerRadius = UDim.new(0, 2)
            TrackCorner.Parent = Track
            local Fill = Instance.new("Frame")
            local defaultPos = math.min(math.max((default - min) / (max - min), 0), 1)
            Fill.Size = UDim2.new(defaultPos, 0, 1, 0)
            Fill.BackgroundColor3 = GetTheme().Primary
            Fill.BorderSizePixel = 0
            Fill.Parent = Track
            local FillCorner = Instance.new("UICorner")
            FillCorner.CornerRadius = UDim.new(0, 2)
            FillCorner.Parent = Fill
            local Thumb = Instance.new("Frame")
            Thumb.Size = UDim2.new(0, 12, 0, 12)
            Thumb.Position = UDim2.new(defaultPos, -6, 0.5, -6)
            Thumb.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Thumb.BorderSizePixel = 0
            Thumb.Parent = Track
            local ThumbCorner = Instance.new("UICorner")
            ThumbCorner.CornerRadius = UDim.new(1, 0)
            ThumbCorner.Parent = Thumb
            local dragging = false
            local function update(input)
                local pos = math.clamp((input.Position.X - Track.AbsolutePosition.X) / Track.AbsoluteSize.X, 0, 1)
                local value = math.floor(min + (max - min) * pos)
                Fill.Size = UDim2.new(pos, 0, 1, 0)
                Thumb.Position = UDim2.new(pos, -6, 0.5, -6)
                Value.Text = tostring(value)
                callback(value)
            end
            Track.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = true
                    update(input)
                end
            end)
            Track.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = false
                end
            end)
            UserInputService.InputChanged:Connect(function(input)
                if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
                    update(input)
                end
            end)
        end
        
        function tab:CreateDropdown(name, options, callback)
            local DropFrame = Instance.new("Frame")
            DropFrame.Size = UDim2.new(1, -10, 0, 30)
            DropFrame.BackgroundColor3 = GetTheme().Secondary
            DropFrame.BorderSizePixel = 0
            DropFrame.ClipsDescendants = true
            DropFrame.Parent = Content
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 5)
            Corner.Parent = DropFrame
            local Label = Instance.new("TextButton")
            Label.Size = UDim2.new(1, 0, 0, 30)
            Label.Text = name .. ": " .. (options[1] or "None")
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 14
            Label.TextColor3 = Color3.fromRGB(230, 230, 235)
            Label.TextTruncate = Enum.TextTruncate.AtEnd
            Label.BackgroundTransparency = 1
            Label.AutoButtonColor = false
            Label.Parent = DropFrame
            local Arrow = Instance.new("TextLabel")
            Arrow.Size = UDim2.new(0, 20, 1, 0)
            Arrow.Position = UDim2.new(1, -20, 0, 0)
            Arrow.Text = "‚ñº"
            Arrow.Font = Enum.Font.GothamBold
            Arrow.TextSize = 10
            Arrow.TextColor3 = Color3.fromRGB(150, 150, 155)
            Arrow.BackgroundTransparency = 1
            Arrow.Parent = DropFrame
            local OptionsList = Instance.new("Frame")
            OptionsList.Size = UDim2.new(1, 0, 0, 0)
            OptionsList.Position = UDim2.new(0, 0, 0, 30)
            OptionsList.BackgroundTransparency = 1
            OptionsList.Parent = DropFrame
            local OptionsLayout = Instance.new("UIListLayout")
            OptionsLayout.Parent = OptionsList
            local isOpen = false
            local selected = options[1]
            for _, option in ipairs(options) do
                local Opt = Instance.new("TextButton")
                Opt.Size = UDim2.new(1, 0, 0, 25)
                Opt.Text = option
                Opt.Font = Enum.Font.Gotham
                Opt.TextSize = 13
                Opt.TextColor3 = Color3.fromRGB(200, 200, 205)
                Opt.TextTruncate = Enum.TextTruncate.AtEnd
                Opt.BackgroundColor3 = Color3.fromRGB(30, 30, 36)
                Opt.BorderSizePixel = 0
                Opt.AutoButtonColor = false
                Opt.Parent = OptionsList
                Opt.MouseEnter:Connect(function()
                    Opt.BackgroundColor3 = Color3.fromRGB(40, 40, 46)
                end)
                Opt.MouseLeave:Connect(function()
                    Opt.BackgroundColor3 = Color3.fromRGB(30, 30, 36)
                end)
                Opt.MouseButton1Click:Connect(function()
                    selected = option
                    Label.Text = name .. ": " .. option
                    isOpen = false
                    CreateTween(DropFrame, {Size = UDim2.new(1, -10, 0, 30)}, 0.2)
                    Arrow.Text = "‚ñº"
                    callback(option)
                end)
            end
            Label.MouseButton1Click:Connect(function()
                isOpen = not isOpen
                if isOpen then
                    CreateTween(DropFrame, {Size = UDim2.new(1, -10, 0, 30 + (#options * 25))}, 0.2)
                    Arrow.Text = "‚ñ≤"
                else
                    CreateTween(DropFrame, {Size = UDim2.new(1, -10, 0, 30)}, 0.2)
                    Arrow.Text = "‚ñº"
                end
            end)
        end
        
        function tab:CreateTextbox(name, placeholder, callback)
            local TextFrame = Instance.new("Frame")
            TextFrame.Size = UDim2.new(1, -10, 0, 55)
            TextFrame.BackgroundTransparency = 1
            TextFrame.Parent = Content
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(1, 0, 0, 18)
            Label.Text = name
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 14
            Label.TextColor3 = Color3.fromRGB(230, 230, 235)
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.TextTruncate = Enum.TextTruncate.AtEnd
            Label.BackgroundTransparency = 1
            Label.Parent = TextFrame
            local Input = Instance.new("TextBox")
            Input.Size = UDim2.new(1, 0, 0, 30)
            Input.Position = UDim2.new(0, 0, 1, -30)
            Input.BackgroundColor3 = GetTheme().Secondary
            Input.TextColor3 = Color3.fromRGB(230, 230, 235)
            Input.PlaceholderText = placeholder or "Digite aqui..."
            Input.PlaceholderColor3 = Color3.fromRGB(120, 120, 125)
            Input.Font = Enum.Font.Gotham
            Input.TextSize = 13
            Input.Text = ""
            Input.ClearTextOnFocus = false
            Input.Parent = TextFrame
            local InputCorner = Instance.new("UICorner")
            InputCorner.CornerRadius = UDim.new(0, 5)
            InputCorner.Parent = Input
            local Padding = Instance.new("UIPadding")
            Padding.PaddingLeft = UDim.new(0, 8)
            Padding.PaddingRight = UDim.new(0, 8)
            Padding.Parent = Input
            Input.FocusLost:Connect(function(enterPressed)
                if enterPressed then
                    callback(Input.Text)
                    Input.Text = ""
                end
            end)
        end

        function tab:CreateLabel(text)
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(1, -10, 0, 20)
            Label.Text = text
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 13
            Label.TextColor3 = Color3.fromRGB(180, 180, 185)
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.TextTruncate = Enum.TextTruncate.AtEnd
            Label.TextWrapped = true
            Label.BackgroundTransparency = 1
            Label.Parent = Content

            return {
                SetText = function(newText)
                    Label.Text = newText
                end
            }
        end
        
        function tab:CreateSeparator()
            local Separator = Instance.new("Frame")
            Separator.Size = UDim2.new(1, -10, 0, 1)
            Separator.BackgroundColor3 = Color3.fromRGB(50, 50, 58)
            Separator.BorderSizePixel = 0
            Separator.Parent = Content
        end
        
        function tab:CreateKeybind(name, defaultKey, callback)
            local KeyFrame = Instance.new("Frame")
            KeyFrame.Size = UDim2.new(1, -10, 0, 26)
            KeyFrame.BackgroundTransparency = 1
            KeyFrame.Parent = Content
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(1, -80, 1, 0)
            Label.Text = name
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 14
            Label.TextColor3 = Color3.fromRGB(230, 230, 235)
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.TextTruncate = Enum.TextTruncate.AtEnd
            Label.BackgroundTransparency = 1
            Label.Parent = KeyFrame
            local KeyButton = Instance.new("TextButton")
            KeyButton.Size = UDim2.new(0, 70, 0, 22)
            KeyButton.Position = UDim2.new(1, -75, 0.5, -11)
            KeyButton.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
            KeyButton.Text = defaultKey.Name
            KeyButton.Font = Enum.Font.GothamBold
            KeyButton.TextSize = 12
            KeyButton.TextColor3 = Color3.fromRGB(230, 230, 235)
            KeyButton.AutoButtonColor = false
            KeyButton.Parent = KeyFrame
            local KeyCorner = Instance.new("UICorner")
            KeyCorner.CornerRadius = UDim.new(0, 4)
            KeyCorner.Parent = KeyButton
            local currentKey = defaultKey
            local binding = false
            KeyButton.MouseButton1Click:Connect(function()
                binding = true
                KeyButton.Text = "..."
                CreateTween(KeyButton, {BackgroundColor3 = GetTheme().Primary}, 0.15)
            end)
            UserInputService.InputBegan:Connect(function(input, processed)
                if binding and not processed then
                    if input.KeyCode ~= Enum.KeyCode.Unknown then
                        currentKey = input.KeyCode
                        KeyButton.Text = currentKey.Name
                        binding = false
                        CreateTween(KeyButton, {BackgroundColor3 = Color3.fromRGB(45, 45, 50)}, 0.15)
                        NotificationSystem:Notify(name, "Tecla alterada para: " .. currentKey.Name)
                    end
                elseif not processed and input.KeyCode == currentKey then
                    callback()
                end
            end)
        end
        
        function tab:CreateColorPicker(name, defaultColor, callback)
            local ColorFrame = Instance.new("Frame")
            ColorFrame.Size = UDim2.new(1, -10, 0, 26)
            ColorFrame.BackgroundTransparency = 1
            ColorFrame.Parent = Content
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(1, -40, 1, 0)
            Label.Text = name
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 14
            Label.TextColor3 = Color3.fromRGB(230, 230, 235)
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.TextTruncate = Enum.TextTruncate.AtEnd
            Label.BackgroundTransparency = 1
            Label.Parent = ColorFrame
            local ColorBox = Instance.new("TextButton")
            ColorBox.Size = UDim2.new(0, 30, 0, 22)
            ColorBox.Position = UDim2.new(1, -35, 0.5, -11)
            ColorBox.BackgroundColor3 = defaultColor
            ColorBox.Text = ""
            ColorBox.AutoButtonColor = false
            ColorBox.Parent = ColorFrame
            local ColorCorner = Instance.new("UICorner")
            ColorCorner.CornerRadius = UDim.new(0, 4)
            ColorCorner.Parent = ColorBox
            ColorBox.MouseButton1Click:Connect(function()
                local r = math.random(0, 255)
                local g = math.random(0, 255)
                local b = math.random(0, 255)
                local newColor = Color3.fromRGB(r, g, b)
                ColorBox.BackgroundColor3 = newColor
                callback(newColor)
                NotificationSystem:Notify(name, string.format("RGB(%d, %d, %d)", r, g, b))
            end)
        end

        function tab:CreateSection(title)
            local SectionFrame = Instance.new("Frame")
            SectionFrame.Size = UDim2.new(1, -10, 0, 35)
            SectionFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 48)
            SectionFrame.BorderSizePixel = 0
            SectionFrame.Parent = Content
            local SectionCorner = Instance.new("UICorner")
            SectionCorner.CornerRadius = UDim.new(0, 6)
            SectionCorner.Parent = SectionFrame
            local SectionTitle = Instance.new("TextLabel")
            SectionTitle.Size = UDim2.new(1, -20, 1, 0)
            SectionTitle.Position = UDim2.new(0, 10, 0, 0)
            SectionTitle.Text = title
            SectionTitle.Font = Enum.Font.GothamBold
            SectionTitle.TextSize = 15
            SectionTitle.TextColor3 = GetTheme().Primary
            SectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            SectionTitle.TextTruncate = Enum.TextTruncate.AtEnd
            SectionTitle.BackgroundTransparency = 1
            SectionTitle.Parent = SectionFrame
        end

        function tab:CreateColorButton(name, color, callback)
            local Button = Instance.new("TextButton")
            Button.Size = UDim2.new(1, -10, 0, 30)
            Button.BackgroundColor3 = color
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.Font = Enum.Font.GothamBold
            Button.TextSize = 14
            Button.Text = name
            Button.TextTruncate = Enum.TextTruncate.AtEnd
            Button.AutoButtonColor = false
            Button.Parent = Content
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 5)
            Corner.Parent = Button
            local originalColor = color
            Button.MouseEnter:Connect(function()
                CreateTween(Button, {
                    BackgroundColor3 = Color3.new(
                        math.min(originalColor.R + 0.1, 1),
                        math.min(originalColor.G + 0.1, 1),
                        math.min(originalColor.B + 0.1, 1)
                    )
                }, 0.15)
            end)
            Button.MouseLeave:Connect(function()
                CreateTween(Button, {BackgroundColor3 = originalColor}, 0.15)
            end)
            Button.MouseButton1Click:Connect(function()
                if callback then callback() end
            end)
        end

        function tab:CreateConfirmButton(name, confirmText, callback)
            local Button = Instance.new("TextButton")
            Button.Size = UDim2.new(1, -10, 0, 30)
            Button.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.Font = Enum.Font.GothamBold
            Button.TextSize = 14
            Button.Text = name
            Button.TextTruncate = Enum.TextTruncate.AtEnd
            Button.AutoButtonColor = false
            Button.Parent = Content
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 5)
            Corner.Parent = Button
            local confirming = false
            local originalColor = Color3.fromRGB(200, 60, 60)
            Button.MouseButton1Click:Connect(function()
                if not confirming then
                    confirming = true
                    Button.Text = confirmText or "Confirmar?"
                    CreateTween(Button, {BackgroundColor3 = Color3.fromRGB(220, 80, 80)}, 0.15)
                    task.wait(2)
                    if confirming then
                        CreateTween(Button, {BackgroundColor3 = originalColor}, 0.15)
                        Button.Text = name
                        confirming = false
                    end
                else
                    if callback then callback() end
                    CreateTween(Button, {BackgroundColor3 = originalColor}, 0.15)
                    Button.Text = name
                    confirming = false
                end
            end)
        end

        function tab:CreateInfoBox(title, text, color)
            local InfoFrame = Instance.new("Frame")
            InfoFrame.Size = UDim2.new(1, -10, 0, 50)
            InfoFrame.BackgroundColor3 = color or Color3.fromRGB(40, 100, 160)
            InfoFrame.BorderSizePixel = 0
            InfoFrame.Parent = Content
            local InfoCorner = Instance.new("UICorner")
            InfoCorner.CornerRadius = UDim.new(0, 6)
            InfoCorner.Parent = InfoFrame
            local InfoTitle = Instance.new("TextLabel")
            InfoTitle.Size = UDim2.new(1, -20, 0, 20)
            InfoTitle.Position = UDim2.new(0, 10, 0, 5)
            InfoTitle.Text = title
            InfoTitle.Font = Enum.Font.GothamBold
            InfoTitle.TextSize = 14
            InfoTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
            InfoTitle.TextXAlignment = Enum.TextXAlignment.Left
            InfoTitle.TextTruncate = Enum.TextTruncate.AtEnd
            InfoTitle.BackgroundTransparency = 1
            InfoTitle.Parent = InfoFrame
            local InfoText = Instance.new("TextLabel")
            InfoText.Size = UDim2.new(1, -20, 0, 20)
            InfoText.Position = UDim2.new(0, 10, 0, 25)
            InfoText.Text = text
            InfoText.Font = Enum.Font.Gotham
            InfoText.TextSize = 12
            InfoText.TextColor3 = Color3.fromRGB(230, 230, 235)
            InfoText.TextXAlignment = Enum.TextXAlignment.Left
            InfoText.TextTruncate = Enum.TextTruncate.AtEnd
            InfoText.BackgroundTransparency = 1
            InfoText.Parent = InfoFrame
        end

        function tab:CreateCopyButton(name, textToCopy)
            local Button = Instance.new("TextButton")
            Button.Size = UDim2.new(1, -10, 0, 30)
            Button.BackgroundColor3 = GetTheme().Secondary
            Button.TextColor3 = Color3.fromRGB(230, 230, 235)
            Button.Font = Enum.Font.Gotham
            Button.TextSize = 14
            Button.Text = name .. " üìã"
            Button.TextTruncate = Enum.TextTruncate.AtEnd
            Button.AutoButtonColor = false
            Button.Parent = Content
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 5)
            Corner.Parent = Button
            Button.MouseEnter:Connect(function()
                CreateTween(Button, {BackgroundColor3 = GetTheme().Hover}, 0.15)
            end)
            Button.MouseLeave:Connect(function()
                CreateTween(Button, {BackgroundColor3 = GetTheme().Secondary}, 0.15)
            end)
            Button.MouseButton1Click:Connect(function()
                setclipboard(textToCopy)
                NotificationSystem:Notify("Copiado!", textToCopy)
            end)
        end
        -- Fim das Fun√ß√µes de Componente (existentes)

        return tab
    end

    local window = {MainFrame = MainFrame, ScreenGui = ScreenGui} -- Adicionei MainFrame ao retorno
    local firstTabName = nil

    function window:CreateTab(name)
        if tabStyle == "None" then
            warn("üö® ERRO: N√£o √© poss√≠vel criar abas no TabStyle 'None'. Use as fun√ß√µes de componente diretamente na janela (Ex: Window:CreateButton).")
            NotificationSystem:Notify("Erro de Script", "TabStyle √© 'None', n√£o crie abas!", 5)
            return
        end

        local isHorizontal = tabStyle == "Horizontal"

        local TabButton = Instance.new("TextButton")
        TabButton.Name = name .. "TabButton"
        TabButton.Size = isHorizontal and UDim2.new(0, 80, 1, 0) or UDim2.new(1, -10, 0, 30)
        TabButton.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
        TabButton.TextColor3 = Color3.fromRGB(180, 180, 185)
        TabButton.Font = Enum.Font.GothamBold
        TabButton.TextSize = isHorizontal and 13 or 15
        TabButton.Text = name
        TabButton.AutoButtonColor = false
        TabButton.Parent = TabBar

        if not isHorizontal then
            local ButtonCorner = Instance.new("UICorner")
            ButtonCorner.CornerRadius = UDim.new(0, 5)
            ButtonCorner.Parent = TabButton
        end

        local Content = Instance.new("ScrollingFrame")
        Content.Name = name .. "Content"
        
        local ContentSize = UDim2.new(1, -10, 1, -10)
        local ContentPos = UDim2.new(0, 5, 0, 5)

        if isHorizontal then
            ContentSize = UDim2.new(1, -10, 1, -10)
            ContentPos = UDim2.new(0, 5, 0, 5)
        end
        
        Content.Size = ContentSize
        Content.Position = ContentPos
        Content.BackgroundTransparency = 1
        Content.BorderSizePixel = 0
        Content.ScrollBarThickness = 4
        Content.ScrollBarImageColor3 = GetTheme().Primary
        Content.CanvasSize = UDim2.new(0, 0, 0, 0)
        Content.Parent = ContentContainer
        Content.Visible = false

        local UIList = Instance.new("UIListLayout")
        UIList.Padding = UDim.new(0, 8)
        UIList.HorizontalAlignment = Enum.HorizontalAlignment.Center
        UIList.SortOrder = Enum.SortOrder.LayoutOrder
        UIList.Parent = Content

        local UIPadding = Instance.new("UIPadding")
        UIPadding.PaddingLeft = UDim.new(0, 10)
        UIPadding.PaddingRight = UDim.new(0, 10)
        UIPadding.PaddingTop = UDim.new(0, 5)
        UIPadding.PaddingBottom = UDim.new(0, 5)
        UIPadding.Parent = Content

        UIList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            Content.CanvasSize = UDim2.new(0, 0, 0, UIList.AbsoluteContentSize.Y + 10)
        end)

        local tabObject = CreateComponentFunctions(Content)
        Tabs[name] = {Button = TabButton, Content = Content, Object = tabObject}

        TabButton.MouseButton1Click:Connect(function()
            if CurrentTab == name then return end
            -- Desativa a aba atual
            if CurrentTab and Tabs[CurrentTab] then
                Tabs[CurrentTab].Content.Visible = false
                Tabs[CurrentTab].Button.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
                Tabs[CurrentTab].Button.TextColor3 = Color3.fromRGB(180, 180, 185)
            end
            -- Ativa a nova aba
            Content.Visible = true
            TabButton.BackgroundColor3 = isHorizontal and Color3.fromRGB(30, 30, 36) or GetTheme().Background
            TabButton.TextColor3 = GetTheme().Text
            CurrentTab = name
        end)

        if not firstTabName then
            firstTabName = name
            -- Ativa automaticamente a primeira aba
            task.wait() -- Espera um ciclo para garantir que todos os elementos do tab tenham carregado
            TabButton.MouseButton1Click:Fire()
        end

        return tabObject
    end

    -- Modo 'None' - Retorna as fun√ß√µes de componente diretamente na janela
    if tabStyle == "None" then
        local Content = Instance.new("ScrollingFrame")
        Content.Name = "MainContent"
        Content.Size = UDim2.new(1, -10, 1, -40)
        Content.Position = UDim2.new(0, 5, 0, 35)
        Content.BackgroundTransparency = 1
        Content.BorderSizePixel = 0
        Content.ScrollBarThickness = 4
        Content.ScrollBarImageColor3 = GetTheme().Primary
        Content.CanvasSize = UDim2.new(0, 0, 0, 0)
        Content.Parent = MainFrame
        local UIList = Instance.new("UIListLayout")
        UIList.Padding = UDim.new(0, 8)
        UIList.HorizontalAlignment = Enum.HorizontalAlignment.Center
        UIList.SortOrder = Enum.SortOrder.LayoutOrder
        UIList.Parent = Content
        local UIPadding = Instance.new("UIPadding")
        UIPadding.PaddingLeft = UDim.new(0, 10)
        UIPadding.PaddingRight = UDim.new(0, 10)
        UIPadding.PaddingTop = UDim.new(0, 5)
        UIPadding.PaddingBottom = UDim.new(0, 5)
        UIPadding.Parent = Content
        UIList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            Content.CanvasSize = UDim2.new(0, 0, 0, UIList.AbsoluteContentSize.Y + 10)
        end)
        
        local noTabFunctions = CreateComponentFunctions(Content)
        for name, func in pairs(noTabFunctions) do
            window[name] = func -- Exp√µe as fun√ß√µes de componente diretamente na janela
        end
    end
    
    -- Fun√ß√µes de Minimizar, Arrastar e Redimensionar (existentes)
    local Minimize = MainFrame:FindFirstChild("Header"):FindFirstChild("Minimize")
    -- (O restante do c√≥digo de minimiza√ß√£o, drag, resize, etc. √© o mesmo do script original,
    -- mas est√° omitido aqui para focar nas mudan√ßas de layout e Multi-Dropdown.
    -- Ele deve ser mantido no script completo para funcionar.)
    
    -- Minimize Button
    local Minimize = Instance.new("TextButton")
    Minimize.Text = "-"
    Minimize.Font = Enum.Font.GothamBold
    Minimize.TextColor3 = GetTheme().Text
    Minimize.TextSize = 20
    Minimize.BackgroundTransparency = 1
    Minimize.Size = UDim2.new(0, 30, 1, 0)
    Minimize.Position = UDim2.new(1, -30, 0, 0)
    Minimize.Parent = Header
    
    local Credit = Instance.new("TextLabel")
    Credit.Text = "xtel"
    Credit.Font = Enum.Font.GothamBold
    Credit.TextSize = 13
    Credit.TextColor3 = Color3.fromRGB(130, 130, 140)
    Credit.BackgroundTransparency = 1
    Credit.Size = UDim2.new(1, 0, 0, 20)
    Credit.Position = UDim2.new(0, 0, 1, -20)
    Credit.TextXAlignment = Enum.TextXAlignment.Center
    Credit.Parent = MainFrame

    local userResized = false
    local previousHeight = MainFrame.Size.Y.Offset

    -- Minimize toggle
    local Collapsed = false
    Minimize.MouseButton1Click:Connect(function()
        Collapsed = not Collapsed
        if Collapsed then
            previousHeight = MainFrame.Size.Y.Offset
            TabContainer.Visible = false
            Credit.Visible = false
            MainFrame.Size = UDim2.new(0, MainFrame.Size.X.Offset, 0, 30)
            Minimize.Text = "+"
            if MainFrame:FindFirstChild("ResizeHandle") then
                MainFrame.ResizeHandle.Visible = false
            end
        else
            TabContainer.Visible = true
            Credit.Visible = true
            Minimize.Text = "-"
            MainFrame.Size = UDim2.new(0, MainFrame.Size.X.Offset, 0, previousHeight)
            if MainFrame:FindFirstChild("ResizeHandle") then
                MainFrame.ResizeHandle.Visible = true
            end
        end
    end)
    
    -- Drag (PC + Mobile)
    local dragging = false
    local dragStart, startPos
    local function updateDrag(input)
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
    Header.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = MainFrame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then dragging = false end
            end)
        end
    end)
    Header.InputChanged:Connect(function(input)
        if (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) and dragging then
            updateDrag(input)
        end
    end)

    -- Redimensionamento
    MakeResizable(MainFrame, {X = 300, Y = 150}, {X = 800, Y = 600})
    
    local resizeHandle = MainFrame:FindFirstChild("ResizeHandle")
    if resizeHandle then
        resizeHandle.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                userResized = true
                previousHeight = MainFrame.Size.Y.Offset
            end
        end)
    end
    table.insert(Library.Windows, {MainFrame = MainFrame, ScreenGui = ScreenGui})
    -- Fim das Fun√ß√µes de UI b√°sicas
    
    return window
end

-- Fun√ß√£o de notifica√ß√£o externa
function Library:Notify(title, message, duration)
    if NotificationSystem and NotificationSystem.Notify then
        NotificationSystem:Notify(title, message, duration)
    end
end

return Library
